@using SliceCloud.Repository.ViewModels
@using SliceCloud.Web.Helpers
@using System.Security.Claims

@{
    string? currentController = ViewContext.RouteData.Values[key: "Controller"]?.ToString();
    List<SidebarMenuItemViewModel>? menuItems = SidebarMenuProvider.GetMenu();
}

<div class="d-none d-xxl-flex flex-column">
    <ul class="list-unstyled d-flex flex-column gap-2">

        <li class="mb-3 mt-2 text-center">
            <img src="~/images/logo.png" width="20%" />
            <h5 class="custom-body-text-color mt-2">SliceCloud</h5>
        </li>

        @foreach (SidebarMenuItemViewModel item in menuItems)
        {
            bool isActive = currentController == item.Controller;

            <li class="ps-4 p-2 @(isActive ? "custom-active-ul-item-bg-color" : "")">
                <a asp-controller="@item.Controller" asp-action="@item.Action" class="text-decoration-none">

                    <div class="d-flex gap-2 align-items-center">
                        <img src="~/images/navbar-icons-rms/@(isActive? item.ActiveIcon: item.Icon)" />
                        <span class="@(isActive ? "custom-active-ul-item-text-color" : "text-muted")">
                            @item.Text
                        </span>
                    </div>

                </a>
            </li>
        }
    </ul>
</div>